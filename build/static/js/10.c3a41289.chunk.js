(this["webpackJsonpbunzz-demo"]=this["webpackJsonpbunzz-demo"]||[]).push([[10],{52:function(e,t,n){"use strict";var a=n(11),c=n(1);t.a=function(e){var t=Object(c.useState)(""),n=Object(a.a)(t,2),s=n[0],r=n[1],o=Object(c.useState)(!1),i=Object(a.a)(o,2),l=i[0],d=i[1],u=e(s);return{value:s,isValid:u,hasError:!u&&l,valueChangeHandler:function(e){r(e.target.value)},inputBlurHandler:function(e){d(!0)},reset:function(){r(""),d(!1)}}}},53:function(e,t,n){"use strict";n(1);var a=n(56),c=n.n(a),s=n(7);t.a=function(e){var t=e.children,n=e.className;return Object(s.jsxs)("div",{className:"".concat(c.a.card," ").concat(n||""),children:[Object(s.jsx)("div",{className:c.a["card-main"],children:t}),Object(s.jsx)("div",{className:c.a["hide-scroller"]}),Object(s.jsx)("div",{className:c.a["hide-scroller"]})]})}},56:function(e,t,n){e.exports={card:"Card_card__3avLa","card-main":"Card_card-main___Y8qI","hide-scroller":"Card_hide-scroller__2fqEk"}},69:function(e,t,n){e.exports={address:"Address_address__1BzO6",logo:"Address_logo__3Phcr",balance:"Address_balance__1mH5h","pub-address":"Address_pub-address__3clW-","pub-address-text":"Address_pub-address-text__2svns","pub-address-copy":"Address_pub-address-copy__1uZ__"}},70:function(e,t,n){e.exports={"address-actions":"AddressActions_address-actions__27Rzh"}},71:function(e,t,n){e.exports={wallet:"Wallet_wallet__Fmrnv","wallet-main":"Wallet_wallet-main__24NlT","activity-title":"Wallet_activity-title__2KiFs","exit-modal":"Wallet_exit-modal__28Ail"}},72:function(e,t,n){e.exports={title:"SendHu_title__1c3ai",balance:"SendHu_balance__5b2gS","balance-reload":"SendHu_balance-reload__3Pc-H","send-hu-form":"SendHu_send-hu-form__2IdWh",error:"SendHu_error__2blJz","waiting-confirmation":"SendHu_waiting-confirmation__2opd6","metamask-logo":"SendHu_metamask-logo__16-N1",rotate:"SendHu_rotate__EspJL"}},73:function(e,t,n){e.exports={title:"MintHu_title__28PC5",balance:"MintHu_balance__2fQym","balance-reload":"MintHu_balance-reload___-OHS","mint-hu-form":"MintHu_mint-hu-form__3qOIl",error:"MintHu_error__2VyN4","no-mint":"MintHu_no-mint__3LE55"}},74:function(e,t,n){e.exports={title:"GetHu_title__hfIS7",option:"GetHu_option__GDtHl",thanks:"GetHu_thanks__2gHqa","copy-address":"GetHu_copy-address__YgdB4",coping:"GetHu_coping__DiYXC",error:"GetHu_error__1Co2a"}},82:function(e,t,n){"use strict";n.r(t);var a=n(11),c=n(1),s=n(61),r=n(43),o=n(44),i=n(59),l=n(18),d=n(42),u=n(69),j=n.n(u),b=n(7),h=function(){var e=Object(c.useContext)(l.b),t=Object(d.a)(e.userAddress),n=e.balance;return Object(b.jsxs)("div",{className:j.a.address,children:[Object(b.jsx)("div",{className:j.a.logo,children:Object(b.jsx)("img",{src:"/hu.png",alt:"hucoin"})}),Object(b.jsxs)("p",{className:j.a.balance,children:[Object(d.b)(n)," HUC"]}),Object(b.jsxs)("div",{className:j.a["pub-address"],children:[Object(b.jsx)("p",{className:j.a["pub-address-text"],children:t}),Object(b.jsx)("div",{className:j.a["pub-address-copy"],children:Object(b.jsx)(i.a,{})})]})]})},m=n(70),p=n.n(m),O=function(e){var t=e.onChangeAction;return Object(b.jsxs)("div",{className:p.a["address-actions"],children:[Object(b.jsx)("button",{type:"button",onClick:function(){t("receive")},children:"Get Hu"}),Object(b.jsx)("button",{type:"button",onClick:function(){t("send")},children:"Send Hu"}),Object(b.jsx)("button",{type:"button",onClick:function(){t("mint")},children:"Mint Hu"})]})},x=n(71),f=n.n(x),v=n(54),g=n(0),_=n.n(g),N=n(14),C=n(57),H=n(52),y=n(72),k=n.n(y),w=n(53),S=n(26),B=n(25),A=function(e){var t=e.onExitModal,n=Object(c.useContext)(l.b),s=Object(c.useContext)(B.b),r=Object(c.useState)(!1),o=Object(a.a)(r,2),i=o[0],u=o[1],j=Object(c.useState)(!1),h=Object(a.a)(j,2),m=h[0],p=h[1],O=n.contract,x=(n.userAddress,n.balance),f=Object(H.a)((function(e){return""!==e.trim()})),v=f.value,g=f.isValid,y=f.hasError,A=f.valueChangeHandler,M=f.inputBlurHandler,E=f.reset,T=Object(H.a)((function(e){return""!==e.trim()&&Number(e)<=Object(d.b)(x)&&Number(e)>0})),P=T.value,D=T.isValid,F=T.hasError,I=T.valueChangeHandler,V=T.inputBlurHandler,z=T.reset,G=Object(H.a)((function(e){return""!==e.trim()})),W=G.value,J=G.isValid,R=G.hasError,L=G.valueChangeHandler,q=G.inputBlurHandler,U=G.reset,Y=Object(H.a)((function(e){return!0})),K=Y.value,Q=Y.isValid,X=Y.hasError,Z=Y.valueChangeHandler,$=Y.inputBlurHandler,ee=Y.reset,te=function(){var e=Object(N.a)(_.a.mark((function e(a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.log("submitting"),g&&D&&J&&Q){e.next=5;break}return console.log("Invalid input",v,P,W,K),e.abrupt("return");case 5:return p(!0),e.next=8,O.transfer(v,Object(d.c)(P)).then(function(){var e=Object(N.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("data: ",t),u(!0),p(!1),console.log("Transfer Pending"),e.next=6,t.wait().then(function(){var e=Object(N.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Transaction Success"),n={blockNumber:t.blockNumber,blockHash:t.blockHash,transactionHash:t.transactionHash,success:t.success,from:t.rawReceipt.from,mid:t.rawReceipt.to,to:v,message:K||"",amount:Object(d.c)(P),senderName:W||"Anonymous",timeStamp:"".concat(+Date.now())},console.log("Sending To DB"),e.next=5,fetch("/api/trx/add-trx",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(e.ok)return console.log("receipt added to DB"),e.json()})).then((function(e){return console.log("Adding Trx"),s.addTransaction(n),e})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 8:return e.next=10,n.getBalance().then((function(e){console.log("getting balance: ",e)})).catch((function(e){console.log(e)}));case 10:u(!1),E(),z(),U(),ee(),t("");case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(w.a,{className:k.a["send-hu"],children:[Object(b.jsx)("h1",{className:k.a.title,children:"Send Hu"}),Object(b.jsxs)("div",{className:k.a.balance,children:[Object(b.jsxs)("p",{children:["Balance: ",Object(d.b)(x)," HUC "]}),Object(b.jsx)("span",{className:k.a["balance-reload"],onClick:function(){n.getBalance()},children:Object(b.jsx)(C.a,{})})]}),!i&&!m&&Object(b.jsxs)("form",{className:k.a["send-hu-form"],onSubmit:te,children:[Object(b.jsx)("label",{htmlFor:"sendeeAddress",children:"Address"}),Object(b.jsx)("input",{type:"text",value:v,placeholder:"0x00000000000",id:"sendeeAddress",onChange:A,onBlur:M}),y&&Object(b.jsx)("p",{className:k.a.error,children:"Invalid address"}),Object(b.jsx)("label",{htmlFor:"sendamount",children:"Amount"}),Object(b.jsx)("input",{type:"number",value:P,placeholder:"0.23",id:"sendamount",onChange:I,onBlur:V}),F&&Object(b.jsx)("p",{className:k.a.error,children:"Invalid Amount"}),Object(b.jsx)("label",{htmlFor:"sendername",children:"Name"}),Object(b.jsx)("input",{type:"text",value:W,id:"senderame",placeholder:"Fred",onChange:L,onBlur:q}),R&&Object(b.jsx)("p",{className:k.a.error,children:"Please Add a Custom Name"}),Object(b.jsx)("label",{htmlFor:"trxdescription",children:"Description"}),Object(b.jsx)("textarea",{id:"trxdescription",placeholder:"Thanks for the food!",value:K||"",onChange:Z,onBlur:$}),X&&Object(b.jsx)("p",{className:k.a.error,children:"Invalid message"}),Object(b.jsx)("button",{type:"submit",children:"Send"})]}),m&&Object(b.jsxs)("div",{className:k.a["waiting-confirmation"],children:[Object(b.jsx)("div",{className:k.a["metamask-logo"],children:Object(b.jsx)("img",{src:"/MetaMask.png",alt:"Confirm on Metamask"})}),Object(b.jsx)(S.a,{text:"MetaMask Should Pupop, Please Confirm on Metamask"})]}),i&&Object(b.jsx)("div",{className:k.a["waiting-confirmation"],children:Object(b.jsx)(S.a,{text:"Transaction Pending In Blockchain"})})]})},M=n(73),E=n.n(M),T=function(e){var t=e.onExitModal,n=Object(c.useContext)(l.b),s=Object(c.useContext)(B.b),r=Object(c.useState)(!1),o=Object(a.a)(r,2),i=o[0],u=o[1],j=Object(c.useState)(!1),h=Object(a.a)(j,2),m=h[0],p=h[1],O=n.contract,x=n.userAddress,f=n.balance,v=Object(H.a)((function(e){return""!==e.trim()&&Number(e)<=Object(d.b)(f)&&Number(e)>0})),g=v.value,y=v.isValid,k=v.hasError,A=v.valueChangeHandler,M=v.inputBlurHandler,T=v.reset,P=Object(H.a)((function(e){return""!==e.trim()})),D=P.value,F=P.isValid,I=P.hasError,V=P.valueChangeHandler,z=P.inputBlurHandler,G=P.reset,W=Object(H.a)((function(e){return!0})),J=W.value,R=W.isValid,L=W.hasError,q=W.valueChangeHandler,U=W.inputBlurHandler,Y=W.reset,K=function(){var e=Object(N.a)(_.a.mark((function e(a){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),console.log("submitting"),y&&F&&R&&"0x5a89D7585EE663c2CE410eEb7070C0749CEA7CA5"===x){e.next=5;break}return console.log("Invalid input",g,D,J),e.abrupt("return");case 5:return p(!0),console.log("mint started: confim Metamask"),e.next=9,O.mint(x,g).then(function(){var e=Object(N.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("data: ",t),u(!0),p(!1),console.log("Mint Pending"),e.next=6,t.wait().then(function(){var e=Object(N.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Mint Transaction Success"),n={blockNumber:t.blockNumber,blockHash:t.blockHash,transactionHash:t.transactionHash,success:t.success,from:t.rawReceipt.from,mid:t.rawReceipt.to,to:x,message:J||"",amount:Object(d.c)(g),senderName:D||"Anonymous",timeStamp:"".concat(+Date.now())},console.log("Sending To DB"),e.next=5,fetch("/api/trx/add-trx",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){if(e.ok)return console.log("receipt added to DB"),e.json()})).then((function(e){console.log(e),s.addTransaction(n)})).catch((function(e){console.log(e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 9:return e.sent,e.next=12,n.getBalance().then((function(e){console.log("getting balance: ",e)})).catch((function(e){console.log(e)}));case 12:u(!1),T(),G(),Y(),t("");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(w.a,{className:E.a["mint-hu"],children:[Object(b.jsx)("h1",{className:E.a.title,children:"Mint Hu"}),Object(b.jsxs)("div",{className:E.a.balance,children:[Object(b.jsxs)("p",{children:["Balance: ",Object(d.b)(f)," HUC "]}),Object(b.jsx)("span",{className:E.a["balance-reload"],onClick:function(){n.getBalance()},children:Object(b.jsx)(C.a,{})})]}),Object(b.jsx)("div",{className:E.a["no-mint"],children:Object(b.jsx)("em",{children:"Notice: Minting Feature is only allowed by the Token Creator! This 'Mint' Option is only opened for display because of the Bunzz Hackathon."})}),!i&&!m&&Object(b.jsxs)("form",{className:E.a["mint-hu-form"],onSubmit:K,children:[Object(b.jsx)("label",{htmlFor:"sendamount",children:"Amount"}),Object(b.jsx)("input",{type:"number",value:g,placeholder:"0.23",id:"sendamount",onChange:A,onBlur:M}),k&&Object(b.jsx)("p",{className:E.a.error,children:"Invalid Amount"}),Object(b.jsx)("label",{htmlFor:"sendername",children:"Name"}),Object(b.jsx)("input",{type:"text",value:D,id:"senderame",placeholder:"Fred",onChange:V,onBlur:z}),I&&Object(b.jsx)("p",{className:E.a.error,children:"Please Add a Custom Name"}),Object(b.jsx)("label",{htmlFor:"trxdescription",children:"Description"}),Object(b.jsx)("textarea",{id:"trxdescription",placeholder:"Thanks for the food!",value:J||"",onChange:q,onBlur:U}),L&&Object(b.jsx)("p",{className:E.a.error,children:"Invalid message"}),Object(b.jsx)("button",{type:"submit",children:"Send"})]}),m&&Object(b.jsxs)("div",{className:E.a["waiting-confirmation"],children:[Object(b.jsx)("div",{className:E.a["metamask-logo"],children:Object(b.jsx)("img",{src:"/MetaMask.png",alt:"Confirm on Metamask"})}),Object(b.jsx)(S.a,{text:"MetaMask Should Pupop, Please Confirm on Metamask"})]}),i&&Object(b.jsx)("div",{className:E.a["waiting-confirmation"],children:Object(b.jsx)(S.a,{text:"Transaction Pending In Blockchain"})})]})},P=n(74),D=n.n(P),F=/[+!?*^%$#&()@~]/,I=function(){var e=Object(c.useState)(!1),t=Object(a.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(!1),o=Object(a.a)(r,2),i=o[0],u=o[1],j=Object(c.useState)(!1),h=Object(a.a)(j,2),m=h[0],p=h[1],O=Object(c.useState)(!1),x=Object(a.a)(O,2),f=x[0],v=x[1],g=Object(c.useState)(!1),_=Object(a.a)(g,2),N=_[0],C=_[1],y=Object(c.useState)(""),k=Object(a.a)(y,2),S=k[0],B=k[1],A=Object(c.useState)(""),M=Object(a.a)(A,2),E=M[0],T=M[1],P=Object(c.useContext)(l.b).userAddress,I=Object(H.a)((function(e){return""!==e.trim()&&!F.test(e)})),V=I.value,z=I.isValid,G=I.hasError,W=I.valueChangeHandler,J=I.inputBlurHandler,R=I.reset,L=Object(H.a)((function(e){return!0})),q=L.value,U=(L.isValid,L.hasError),Y=L.valueChangeHandler,K=L.inputBlurHandler,Q=L.reset,X=Object(H.a)((function(e){return""!==e.trim()&&!F.test(e)})),Z=X.value,$=X.isValid,ee=X.hasError,te=X.valueChangeHandler,ne=X.inputBlurHandler,ae=X.reset,ce=Object(H.a)((function(e){return""!==e.trim()&&!!Number(e)})),se=ce.value,re=ce.isValid,oe=ce.hasError,ie=ce.valueChangeHandler,le=ce.inputBlurHandler,de=ce.reset,ue=Object(H.a)((function(e){return!0})),je=ue.value,be=(ue.isValid,ue.hasError),he=ue.valueChangeHandler,me=ue.inputBlurHandler,pe=ue.reset,Oe=function(e){"copy"===e&&(navigator.clipboard.writeText(S),s(!0),setTimeout((function(){s(!1),v(!1)}),3e3)),"copy-fixed"===e&&(navigator.clipboard.writeText(E),u(!0),setTimeout((function(){u(!1),C(!1)}),3e3)),"copy-addr"===e&&(navigator.clipboard.writeText(S),p(!0),setTimeout((function(){p(!1)}),3e3))};return Object(b.jsxs)(w.a,{children:[Object(b.jsx)("h1",{className:D.a.title,children:"Get Hu"}),Object(b.jsxs)("div",{className:D.a.option,children:[Object(b.jsx)("h4",{children:"Share Link"}),!f&&Object(b.jsxs)("form",{onSubmit:function(e){var t;(e.preventDefault(),z)&&(void 0!==typeof window&&(t="".concat(window.location.origin,"/send-me-hu/share/").concat(P,"/").concat(Object(d.e)(V),"/?desc=").concat(Object(d.e)(q)),B(t),v(!0),R(),Q()))},children:[Object(b.jsx)("label",{htmlFor:"send-me-name",children:"Custom Name"}),Object(b.jsx)("input",{value:V,type:"text",placeholder:"Stacy",id:"send-me-name",onChange:W,onBlur:J}),G&&Object(b.jsx)("p",{className:D.a.error,children:"Please Input a valid custom name e.g. Precious"}),Object(b.jsx)("label",{htmlFor:"send-me-desc",children:"Message (optional)"}),Object(b.jsx)("input",{value:q,type:"text",placeholder:"Donate to support stacy!",id:"send-me-desc",onChange:Y,onBlur:K}),U&&Object(b.jsx)("p",{className:D.a.error,children:"Invalid Description"}),Object(b.jsx)("button",{type:"submit",children:"Create"})]}),f&&Object(b.jsxs)("div",{className:D.a.coping,children:[Object(b.jsx)("p",{children:S}),Object(b.jsx)("button",{type:"button",onClick:function(){return Oe("copy")},children:"".concat(n?"Copied":"Copy")})]})]}),Object(b.jsxs)("div",{className:D.a.option,children:[Object(b.jsx)("h4",{children:"Share Link with Fixed Amount"}),!N&&Object(b.jsxs)("form",{onSubmit:function(e){var t;(e.preventDefault(),$&&re)?void 0!==typeof window&&(t="".concat(window.location.origin,"/send-me-hu/share-fixed/").concat(P,"/").concat(Object(d.e)(Z),"/").concat(Object(d.c)(se),"/?desc=").concat(Object(d.e)(q)),T(t),C(!0),ae(),de(),pe()):console.log("wrong")},children:[Object(b.jsx)("label",{htmlFor:"send-me-name",children:"Custom Name"}),Object(b.jsx)("input",{type:"text",value:Z,placeholder:"Stacy",id:"send-me-name",onChange:te,onBlur:ne}),ee&&Object(b.jsx)("p",{className:D.a.error,children:"Please Input a valid custom name e.g. Precious"}),Object(b.jsx)("label",{htmlFor:"send-me-amount",children:"Amount"}),Object(b.jsx)("input",{type:"text",value:se,placeholder:"0.36789",id:"send-me-amount",onChange:ie,onBlur:le}),oe&&Object(b.jsx)("p",{className:D.a.error,children:"Please Input a valid amount e.g. 300"}),Object(b.jsx)("label",{htmlFor:"send-me-desc",children:"Message (optional)"}),Object(b.jsx)("input",{type:"text",value:je,placeholder:"Pay for Rice and Stew",id:"send-me-desc",onChange:he,onBlur:me}),be&&Object(b.jsx)("p",{className:D.a.error,children:"Invalid Description"}),Object(b.jsx)("button",{type:"submit",children:"Create"})]}),N&&Object(b.jsxs)("div",{className:D.a.coping,children:[Object(b.jsx)("p",{children:E}),Object(b.jsx)("button",{type:"button",onClick:function(){return Oe("copy-fixed")},children:"".concat(i?"Copied":"Copy")})]})]}),Object(b.jsxs)("div",{className:D.a.option,children:[Object(b.jsx)("h4",{children:"Share Wallet Address"}),Object(b.jsxs)("div",{className:D.a["copy-address"],children:[Object(b.jsxs)("p",{children:["Public Address: ",Object(d.a)(P)]}),Object(b.jsx)("button",{type:"button",onClick:function(){return Oe("copy-addr")},children:"".concat(m?"Copied":"Copy")})]})]}),Object(b.jsx)("p",{className:D.a.thanks,children:"Thanks for using hupay"})]})},V=n(60);t.default=function(){var e=Object(c.useContext)(l.b),t=Object(c.useState)(""),n=Object(a.a)(t,2),i=n[0],d=n[1],u=function(e){d(e)};return e.connected?Object(b.jsxs)("section",{className:f.a.wallet,children:[Object(b.jsx)(r.a,{}),Object(b.jsxs)("div",{className:f.a["wallet-main"],children:[Object(b.jsx)(h,{}),Object(b.jsx)(O,{onChangeAction:u}),Object(b.jsx)("h2",{className:f.a["activity-title"],children:"Activity"}),Object(b.jsx)(s.a,{})]}),!!i&&Object(b.jsxs)(v.a,{children:[Object(b.jsx)("div",{className:f.a["exit-modal"],onClick:function(){d("")},children:"\xd7"}),"send"===i&&Object(b.jsx)(A,{onExitModal:u}),"mint"===i&&Object(b.jsx)(T,{onExitModal:u}),"receive"===i&&Object(b.jsx)(I,{onExitModal:u})]}),Object(b.jsx)(o.a,{})]}):Object(b.jsxs)("section",{className:f.a.wallet,children:[Object(b.jsx)(r.a,{}),Object(b.jsx)("div",{className:f.a["wallet-main"],children:Object(b.jsx)(V.a,{})}),Object(b.jsx)(o.a,{})]})}}}]);
//# sourceMappingURL=10.c3a41289.chunk.js.map